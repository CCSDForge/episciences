<div class="review-container">
    <h2 class="review-title">Noms des revues</h2>

    <?php if (count($this->reviewData) > 0): ?>
        <ul class="review-list">
            <?php
            $startNumber = ($this->paginator->getCurrentPageNumber() - 1) * $this->paginator->getItemCountPerPage() + 1;

            foreach ($this->reviewData as $index => $review):
                $orderNumber = $startNumber + $index;
                ?>
                <li class="review-item">
                    <span class="review-number"><?php echo htmlspecialchars($orderNumber, ENT_QUOTES, 'UTF-8'); ?>.</span>
                    <span class="review-name"><?php echo htmlspecialchars($review['name'], ENT_QUOTES, 'UTF-8'); ?></span>
                    <img src="<?php echo htmlspecialchars($review['logo'], ENT_QUOTES, 'UTF-8'); ?>"
                         alt="Logo <?php echo htmlspecialchars($review['code'], ENT_QUOTES, 'UTF-8'); ?>"
                         class="review-logo">
                    <a href="<?php echo htmlspecialchars($review['url'], ENT_QUOTES, 'UTF-8'); ?>"
                       target="_blank"
                       class="review-link">
                        <i class="fa fa-external-link"></i>
                    </a>
                </li>
            <?php endforeach; ?>
        </ul>

        <div class="pagination-container">
            <div></div>

            <div class="pagination">
                <?php if (isset($this->paginator) && $this->paginator->getPages()->pageCount > 0): ?>
                    <?php if ($this->paginator->getCurrentPageNumber() != 1): ?>
                        <a href="<?php echo $this->url(['page' => $this->paginator->getPages()->first]); ?>" class="pagination-link">Premier</a>
                        <a href="<?php echo $this->url(['page' => $this->paginator->getCurrentPageNumber() - 1]); ?>" class="pagination-link">Précédent</a>
                    <?php endif; ?>

                    <?php foreach ($this->paginator->getPages()->pagesInRange as $page): ?>
                        <?php if ($page == $this->paginator->getCurrentPageNumber()): ?>
                            <span class="pagination-current"><?php echo htmlspecialchars($page, ENT_QUOTES, 'UTF-8'); ?></span>
                        <?php else: ?>
                            <a href="<?php echo $this->url(['page' => $page]); ?>" class="pagination-link"><?php echo htmlspecialchars($page, ENT_QUOTES, 'UTF-8'); ?></a>
                        <?php endif; ?>
                    <?php endforeach; ?>

                    <?php if ($this->paginator->getCurrentPageNumber() != $this->paginator->getPages()->last): ?>
                        <a href="<?php echo $this->url(['page' => $this->paginator->getCurrentPageNumber() + 1]); ?>" class="pagination-link">Suivant</a>
                        <a href="<?php echo $this->url(['page' => $this->paginator->getPages()->last]); ?>" class="pagination-link">Dernier</a>
                    <?php endif; ?>
                <?php endif; ?>
            </div>

            <div class="review-count">
                Nombre total de revues : <?php echo htmlspecialchars($this->paginator->getTotalItemCount(), ENT_QUOTES, 'UTF-8'); ?>
            </div>
        </div>
    <?php else: ?>
        <p class="no-reviews">Aucune revue disponible.</p>
    <?php endif; ?>
</div>