<div class="container review-container">
    <h2 class="review-title text-center">Liste des revues</h2>

    <?php if (count($this->reviewData) > 0): ?>
        <div class="list-group">
            <?php
            $startNumber = ($this->paginator->getCurrentPageNumber() - 1) * $this->paginator->getItemCountPerPage() + 1;

            foreach ($this->reviewData as $index => $review):
                $orderNumber = $startNumber + $index;
                ?>
                <a href="<?php echo htmlspecialchars($review['url'], ENT_QUOTES, 'UTF-8'); ?>"
                   class="list-group-item clearfix" target="_blank">

                    <span class="review-number">
                        <?php echo htmlspecialchars($orderNumber, ENT_QUOTES, 'UTF-8'); ?>
                    </span>

                    <img src="<?php echo htmlspecialchars($review['logo'], ENT_QUOTES, 'UTF-8'); ?>"
                         alt="Logo <?php echo htmlspecialchars($review['code'], ENT_QUOTES, 'UTF-8'); ?>"
                         class="review-logo">

                    <span class="review-name"><?php echo htmlspecialchars($review['name'], ENT_QUOTES, 'UTF-8'); ?></span>

                    <i class="fa fa-external-link review-link"></i>
                </a>

            <?php endforeach; ?>
        </div>

        <div class="row pagination-container">
            <div class="col-xs-4">
            </div>
            <div class="col-xs-4 text-center">
                <?php if (isset($this->paginator) && $this->paginator->getPages()->pageCount > 0): ?>
                    <nav>
                        <ul class="pagination">
                            <?php if ($this->paginator->getCurrentPageNumber() != 1): ?>
                                <li>
                                    <a href="<?php echo $this->url(['page' => $this->paginator->getPages()->first]); ?>" aria-label="Premier">
                                        <span aria-hidden="true">&laquo;&laquo;</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="<?php echo $this->url(['page' => $this->paginator->getCurrentPageNumber() - 1]); ?>" aria-label="Précédent">
                                        <span aria-hidden="true">&laquo;</span>
                                    </a>
                                </li>
                            <?php endif; ?>

                            <?php foreach ($this->paginator->getPages()->pagesInRange as $page): ?>
                                <?php if ($page == $this->paginator->getCurrentPageNumber()): ?>
                                    <li class="active"><span><?php echo htmlspecialchars($page, ENT_QUOTES, 'UTF-8'); ?></span></li>
                                <?php else: ?>
                                    <li><a href="<?php echo $this->url(['page' => $page]); ?>"><?php echo htmlspecialchars($page, ENT_QUOTES, 'UTF-8'); ?></a></li>
                                <?php endif; ?>
                            <?php endforeach; ?>

                            <?php if ($this->paginator->getCurrentPageNumber() != $this->paginator->getPages()->last): ?>
                                <li>
                                    <a href="<?php echo $this->url(['page' => $this->paginator->getCurrentPageNumber() + 1]); ?>" aria-label="Suivant">
                                        <span aria-hidden="true">&raquo;</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="<?php echo $this->url(['page' => $this->paginator->getPages()->last]); ?>" aria-label="Dernier">
                                        <span aria-hidden="true">&raquo;&raquo;</span>
                                    </a>
                                </li>
                            <?php endif; ?>
                        </ul>
                    </nav>
                <?php endif; ?>
            </div>
            <div class="col-xs-4 text-right">
                <p class="review-count">
                    Nombre total de revues : <?php echo htmlspecialchars($this->paginator->getTotalItemCount(), ENT_QUOTES, 'UTF-8'); ?>
                </p>
            </div>
        </div>
    <?php else: ?>
        <p class="no-reviews">Aucune revue disponible.</p>
    <?php endif; ?>
</div>